---
title: 基础电路实验
date: 2023-12-12
author: 王兵
summary: 计算机硬件组件认识和基础电路实验。
tag:
  - 制作一个CPU
  - 电子基础
  - 电路设计
  - 模拟电路实验
---

标签：[制作一个CPU](../../_tags/制作一个CPU), [电子基础](../../_tags/电子基础), [电路设计](../../_tags/电路设计), [模拟电路实验](../../_tags/模拟电路实验)

**目录**：

- [**1. 基本电路原件**](#component)：学习电阻、电容、二极管和晶体管等基本电子元件的特性。
- [**2. RC 延时电路**](#rc-delay)：学习搭建一个 RC 延时电路，了解电阻和电容如何联合工作。
- [**3. 晶体管开关电路**](#transistor-switch)：理解晶体管如何在电路中用作开关。
- [**4. 放大器电路**](#amplifier)：学习晶体管如何在放大器电路中使用。
- [**5. 振荡器电路**](#oscillator)：理解振荡器电路的原理及其在产生周期性信号中的应用。

<a name="component"></a>
## 1. 基本电路原件

### 1.1. 电阻（Resistor）

- **特性**：限制电路中的电流流动。
- **属性参数**：阻值（欧姆），功率容量（瓦特），容差（%）。
- **原理**：基于欧姆定律（V=IR），提供特定的电阻值来控制电流。

### 1.2. 电容（Capacitor）

- **特性**：存储电荷能量。
- **属性参数**：电容量（法拉），工作电压，介质类型。
- **原理**：由两个导体板和一个非导电介质（电介质）组成，能够积累和释放电能。

### 1.3. 二极管（Diode）

- **特性**：允许电流单向流动。
- **属性参数**：最大正向电流，反向击穿电压，正向电压降。
- **原理**：由P型和N型半导体材料组成，仅在正向偏压下导电。

### 1.4. 晶体管（Transistor）

- **特性**：用作开关或放大器。
- **属性参数**：最大电流和电压，增益（hFE），极性（NPN或PNP）。
- **原理**：基于半导体材料，能够控制通过它的电流。

### 1.5. 电感（Inductor）

- **特性**：存储磁能。
- **属性参数**：电感值（亨利），额定电流，直流电阻。
- **原理**：由导线绕制成线圈，当电流通过时产生磁场。

### 1.6. 电源（Power Supply）

- **特性**：提供电能。
- **属性参数**：输出电压和电流，效率，稳定性。
- **原理**：将电能从一种形式转换为特定电压和电流的形式。

### 1.7. 振荡器（Oscillator）

- **特性**：产生周期性的电信号。
- **属性参数**：频率，波形（正弦波、方波等），稳定性。
- **原理**：使用电容和电感或晶体来产生稳定的时钟或信号波形。

### 1.8. 逻辑门（Logic Gate）

- **特性**：执行基本的数字逻辑操作（如AND, OR, NOT）。
- **属性参数**：输入输出逻辑级别，传播延迟，功耗。
- **原理**：使用半导体技术，根据输入信号的组合提供相应的输出。

### 1.9. 示波器（Oscilloscope）

- **特性**：图形显示电信号的变化。
- **属性参数**：带宽，采样率，通道数，垂直灵敏度。
- **原理**：将电信号转换为可视化波形，用于测量和分析信号的特性。

<a name="rc-delay"></a>
## 2. RC 延时电路

RC 延时电路是一种基本的电子电路，使用电阻（R）和电容（C）组合来实现延时效果。该电路的核心原理是电容的充电和放电过程。

### 2.1. 功能和用途

- **延时控制**：RC 电路可以用来在电子电路中创建延时效果，例如在开关电路中实现延迟开启或关闭。
- **去抖动**：在数字电路中用于稳定信号，减少开关或按钮的抖动。
- **信号滤波**：作为低通滤波器，滤除高频信号。

### 2.2. 工作原理

- **充电过程**：当电源接通时，电容开始充电。充电时间取决于电阻和电容的值，用时间常数（τ = R×C）表示。
- **放电过程**：当电源断开时，电容通过电阻放电，放电时间也由时间常数决定。

### 2.3. LTspice 仿真实验

**2.3.1. 新建：** 在 LTspice 中新建一个原理图（New Schematic）

**2.3.2. 添加组件：** 从 LTspice 库中添加一个直流电源（5V），一个电阻（10kΩ），一个电容（100 μF），用导线串联，电源和电容接地

**2.3.3. 配置 Simulate 参数：** 设定 C1 初始电压为 0，瞬态模拟 10s

   ```
   .ic V(test) = 0
   .tran 10s
   ```

   ![](/assets/images/2023/20231212.LTspice-RC.png)

**2.3.4. 模拟结果**：

   ![](/assets/images/2023/20231212.LTspice-RC-plot.png)

**2.3.5. 数值分析**：

   根据 RC 串联电路，根据基尔霍夫电压定律（KVL）有：
   $$
   U_V = u_R + u_C  \tag{1}
   $$

   $$
   u_R = R \cdot i  \tag{2}
   $$

   $$
   i= C\frac{du_C}{dt}  \tag{3}
   $$

   其中，$U_V$为电源电压， $u_R$  为电阻电压， $u_C$ 为电容电压，$i$ 为电阻电流，$C$ 为电容

   联立 （1）-（3） 有
   $$
   U_V = RC\frac{du_C}{dt} + u_C  \tag{4}
   $$
   解得：
   $$
   u_C(t) = C1 \cdot e^{-\frac{t}{RC}} + U_V  \tag{5}
   $$
   带入初始 t 时 $u_C$ 为 0，得到 $C1=-U_V$ ，整理后得到 RC 电路充电指数曲线函数
   $$
   u_C(t) = U_{max}(1-e^{-t/\tau})  \tag{6}
   $$
   其中：$\tau = RC$  为电路时间常数

   在本例中 $\tau = 1$，因此可以看到 1s 左右时（$t = \tau$），电容电压约为 3.2V，2s 左右时（$t=2\tau$），电容电压约为 4.3V

<a name="transistor-switch"></a>
## 3. 晶体管开关电路

### 3.1. 功能和用途

+ **开关控制**：晶体管可以像开关一样工作，控制电流的流动。当晶体管“开启”时，电流可以流过；当它“关闭”时，电流被阻断。

+ **信号放大**：在某些应用中，晶体管的开关动作用于放大微弱信号，例如在放大器中。

+ **数字逻辑电路**：在数字电路中，晶体管用于实现逻辑门（如 AND、OR、NOT 门），是构建复杂数字系统（如计算机）的基础。

+ **节能高效**：与机械开关相比，晶体管开关速度快，能耗低，使得它们非常适合用于现代电子设备。

### 3.2. 工作原理

+ **双极型晶体管（BJT）**：由两种类型的半导体材料交替构成，形成PNP或NPN结构。有三个引脚：基极（Base）、集电极（Collector）和发射极（Emitter）。当基极接收到足够的电压时，它允许电流从发射极流向集电极。
+ **场效应晶体管（FET）**：主要依靠电场来控制电流流动。有三个引脚：源极（Source）、漏极（Drain）和栅极（Gate）。栅极电压控制半导体材料内部的导电通道，进而控制电流的流动。

### 3.3 LTspice 仿真实验

**3.3.1. 选择元件**：NPN 晶体管（2N2222）。一个小电阻 R1（1kΩ）连接在晶体管的集电极（Collector）和电源（5V）正极之间。一个控制电阻（10kΩ）连接在晶体管的基极（Base）和输入信号（电源）之间。晶体管的发射极（Emitter）接地。

**3.3.2. 设置输入信号**：设计一个方波信号作为基极输入，以模拟开关动作，配置一个方形波：

```
PULSE(0 5 0 1m 1m 10m 20m) 
```

参数含义如下：

1. **初始值（Initial Value）**：`0`，这是脉冲波形的初始电压。在此例中，脉冲波形开始于 0 伏特。
2. **脉冲幅值（Pulsed Value）**：`5`这是脉冲的峰值电压。在此例中，脉冲从 0 伏特跃升至 5 伏特。
3. **延迟时间（Delay Time）**：`0`这是在脉冲开始前的延迟时间。在此例中，脉冲在仿真开始时立即启动，没有延迟。
4. **上升时间（Rise Time）**：`1m`（1 毫秒）这是脉冲从初始值上升到峰值的时间。在此例中，脉冲从 0 伏特上升到 5 伏特需要 1 毫秒。
5. **下降时间（Fall Time）**：`1m`（1 毫秒）这是脉冲从峰值下降回初始值的时间。在此例中，脉冲从 5 伏特下降到 0 伏特也需要 1 毫秒。
6. **脉冲宽度（Pulse Width）**：`10m`（10 毫秒）这是脉冲保持在峰值的总时间。在此例中，脉冲在 5 伏特的水平保持 10 毫秒。
7. **周期（Period）**：`20m`（20 毫秒）这是完整脉冲周期的持续时间。在此例中，每个脉冲周期为 20 毫秒，包括脉冲宽度和脉冲之间的间隔。

![](/assets/images/2023/20231212.LTspice-Transistor.png)

**3.3.3. 仿真设置**：瞬态模拟 100ms

```
.tran 100ms
```

**3.3.4. 运行仿真并观察结果**：

- 当输入信号为高电平时，晶体管导通，集电极电压降低。
- 当输入信号为低电平时，晶体管截止，集电极电压接近电源电压。

![](/assets/images/2023/20231212.LTspice-Transistor-plot.png)

**3.3.5. 现象分析**：

+ 可以观察到 2N2222 晶体管的基极电压高于发射极电压大约 0.7V 左右，晶体管开始导通。
+ 当晶体管关闭时（基极电压低于 0.7V），集电极到发射极之间的电压接近 V1，即接近 5V。
+ 当晶体管打开时（基极电压超过 0.7V），集电极电流增加，导致通过 R1 的电压降增大。理想情况下，如果晶体管完全导通，集电极电压会接近 0V（因为大部分电压都跨在 R1 上）。
+ 如果方波电压小于 0.7 V，晶体管将始终处于关闭状态，因此集电极端将会始终保持 5V。

<a name="amplifier"></a>
## 4. 放大器电路
### 4.1. 功能和用途

放大器电路用于增强电信号的幅度，不改变信号的基本形状。

- **信号放大**：用于放大微弱的音频、射频或其他类型的模拟信号。
- **电子设备**：在收音机、电视、手机和各种音频设备中普遍存在。
- **实验教学**：帮助理解基本电子原理和晶体管的工作。

### 4.2. 工作原理

单级晶体管放大器通常使用 NPN 或 PNP 晶体管，以共射极配置进行设计。

- **信号输入**：输入信号施加到晶体管的基极。
- **偏置设置**：通过基极电阻为晶体管提供适当的偏置电流。
- **放大过程**：晶体管的集电极电流随基极电流变化，从而放大输入信号。
- **输出信号**：输出信号从晶体管的集电极获得，并通过耦合电容传递出去。

### 4.3 LTSpice 仿真实验

**4.3.1. 添加元件**：NPN 晶体管（2N2222）

**4.3.2. 电路连线**：

+ 电源连接：将电源 V2 正极连接至集电极电阻，负极接地。
+ 基极偏置：添加两个电阻 R1，R2 形成电压分压器，为基极提供偏置电压。
+ 输入耦合：将输入信号 V1 通过耦合电容 C1 连接到基极。
+ 输出耦合：从集电极通过另一个耦合电容 C2 提取输出信号。

**4.3.3. 配置参数以及设置输入信号**：

![](/assets/images/2023/20231212.LTspice-Amplifier.png)

**4.3.4. 运行仿真并观察结果**：

![](/assets/images/2023/20231212.LTspice-Amplifier-plot.png)

+ 共射放大器的相位关系：当输入信号变为正时，输出信号变为负，反之亦然。因此，如果输入是一个正弦波，输出信号将是一个反相的正弦波。

- 在实际电路中，除了共射放大器本身的相位反转外，还可能存在由电路布局、电源供应、耦合电容等因素引起的额外相移。这些因素可能导致输出信号的相位与理论上的180°反相有所偏差。

- 偏置电流（Bias Current）是在晶体管放大器中用于设置晶体管的工作点的恒定电流。这个工作点被称为静态工作点或Q点（Quiescent Point）。正确的偏置对于确保晶体管在其最佳性能范围内运行非常重要，特别是在放大信号时保持线性响应和最小化失真。

- 在一个共射放大器电路中，基极偏置电流  $I_B$ 是流过晶体管基极的电流。这个电流决定了集电极电流 $I_C$ 和发射极电流 $I_E$，因为在晶体管中，这些电流之间有确定的比例关系。

- 晶体管电流增益（β或hFE）的定义：
  $$
  \beta = \frac{I_C}{I_B}  \tag{7}
  $$

   - 其中 $I_C$ 是集电极电流，$I_B$ 是基极电流。

**4.3.5. 一些问题**

1. 输入电压信号的 offset 可以设置为 0，这个值不会影响放大后的信号，因为耦合 C1 会过滤掉直流分量，仅留下交流分量。
2. 输出电压达到了 V2 的峰值，这可能意味着放大器的输出接近其最大输出能力，此时可能出现削波失真。需要降低输入信号的幅度。
3. 目前还不知道如何计算复杂电路的放大倍数，只能靠模拟观察。

<a name="oscillator"></a>
## 5. 振荡器电路

### 5.1. 功能和用途

震荡器是一种电子电路，用于产生重复的电波形式，如正弦波、方波或锯齿波。震荡器广泛应用于各种电子设备中，如无线通信设备、计算机、定时器和信号发生器。

### 5.2. 工作原理

震荡器的基本工作原理是利用正反馈来维持电路的持续振荡。在一个典型的震荡电路中，一个放大器提供增益，而反馈网络决定振荡的频率和形状。

### 5.3 LTSpice 仿真实验

**5.3.1. 组件和电路**：一个晶体管，三组 RC 电路，具体连接以及阻值配置如图

![](/assets/images/2023/20231212.LTspice-Oscillator.png)

**5.3.2. 运行仿真结果**

![](/assets/images/2023/20231212.LTspice-Oscillator-plot.png)

**5.3.3. 结果分析**

+ 使用双极型晶体管的RC相移振荡器的电路图在网上很容易找到，难点在于调试出合适的电容和电阻值。

+ 输出频率计算公式：
  $$
  f_r = \frac{1}{2\pi RC \sqrt{2N}}  \tag{8}
  $$

   + 其中 R=R1=R2=R3，在这个例子里就是 10kΩ
   + C=C1=C2=C3，在这个例子里是 1nF
   + N 是 RC 级数，在这个例子里是 3
   + 计算下来 $f_r = 6497.47 Hz$  也就是理论上，每秒可以观察到大约 6.5 个波峰，而实际上，可以观察到将近 11 个波峰。

  ![](/assets/images/2023/20231212.LTspice-Oscillator-plot2.png)

+ 原因应该也是多种多样的，比如元件公差、仿真模拟的准确性、放大器特性影响等，暂时没有很好的解释。
